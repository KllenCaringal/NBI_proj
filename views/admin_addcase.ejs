<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NBI Administrative - Add New Case</title>
    <link rel="stylesheet" href="/css/admin_dashboard.css">
    <link rel="stylesheet" href="/css/admin_addcase.css">
</head>
<body>
    <div class="sidebar">
        <div class="logo">
          <img src="/images/nbi_logo.png" alt="NBI Logo">
        </div>
        <nav>
          <ul>
            <li><a href="/admin-dashboard"><i class="nav-item nav-link"></i> Dashboard</a></li>
            <li><a href="/admin-users"><i class="nav-item nav-link"></i> Users</a></li>
            <li><a href="/admin-upload"><i class="nav-item nav-link"></i> Upload</a></li>
            <li><a href="/admin-addcase"><i class="nav-item nav-link"></i> Add Case</a></li>
            <li><a href="/admin-notification"><i class="nav-item nav-link"></i> Notification</a></li>
            <li><a href="/admin-logs"><i class="nav-item nav-link"></i> Logs</a></li>
            <li><a href="/admin-trash"><i class="nav-item nav-link"></i> Trash</a></li>
            <li><a href="/profile"><i class="nav-item nav-link"></i> Profile</a></li>
          </ul>
        </nav>
        <div class="logout">
          <a href="/logout">
            <button>Logout</button>
          </a>
        </div>
      </div>
    <div class="content">
        <div class="content-header">
            <h1>Add New Case</h1>
        </div>
        <div class="content-body">
            <form action="/admin-addcase" method="POST" enctype="multipart/form-data" id="addCaseForm">
                <div class="form-group">
                    <label for="title">Case Title:</label>
                    <input type="text" id="title" name="title" required>
                </div>
                <div class="form-group">
                    <label for="user_id">User ID:</label>
                    <select id="user_id" name="user_id" required>
                        <option value="">Select User</option>
                        <% users.forEach(user => { %>
                            <option value="<%= user.user_id %>"><%= user.user_id %> - <%= user.firstname %> <%= user.lastname %></option>
                        <% }); %>
                    </select>
                </div>
                <div class="form-group">
                    <label for="description">Description:</label>
                    <textarea id="description" name="description" required></textarea>
                </div>
                <div class="form-group">
                    <label for="file">Upload File:</label>
                    <div class="file-input-wrapper">
                        <input type="file" id="file" name="file" required>
                        <span class="file-input-button">Choose File</span>
                        <span class="file-input-text">No file chosen</span>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Add Case</button>
                    <button type="reset" class="btn-secondary">Reset</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('addCaseForm');
            const fileInput = document.getElementById('file');
            const fileInputText = document.querySelector('.file-input-text');

            form.addEventListener('submit', function(e) {
                e.preventDefault();
                if (confirm('Are you sure you want to add this case?')) {
                    this.submit();
                }
            });

            fileInput.addEventListener('change', function(e) {
                if (this.files && this.files.length > 0) {
                    fileInputText.textContent = this.files[0].name;
                } else {
                    fileInputText.textContent = 'No file chosen';
                }
            });
        });
    </script>
</body>
</html>

